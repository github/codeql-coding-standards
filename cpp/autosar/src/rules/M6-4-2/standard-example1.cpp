if(x < 0)
{
  log_error(3);
  x = 0;
}
// else not needed